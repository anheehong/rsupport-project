# 과제

---

#### [주제]
공지사항 관리 REST API 구현

#### [기능 요구사항]
● 공지사항 등록, 수정, 삭제, 조회 API 를 구현한다.

● 공지사항 등록시 입력 항목은 다음과 같다.

- 제목, 내용, 공지 시작일시, 공지 종료일시, 첨부파일 (여러개)
  
● 공지사항 조회시 응답은 다음과 같다.
- 목록: 제목, 첨부파일 유무, 등록일시, 조회수, 작성자
- 상세: 제목, 내용, 등록일시, 조회수, 작성자, 첨부파일
  
● 공지사항 검색은 다음과 같다.
- 검색어: 제목 + 내용, 제목
- 검색기간: 등록일자

#### [비기능 요구사항 및 평가 항목]
● REST API로 구현

● 개발 언어는 Java, Kotlin 중 익숙한 개발 언어로 한다.

● 웹 프레임 워크는 Spring Boot 을 사용한다.

● Persistence 프레임 워크는 Hibernate 사용시 가산점

● 데이터 베이스는 제약 없음

● 기능 및 제약사항에 대한 단위/통합테스트 작성

● 대용량 트래픽을 고려하여 구현할 것

● 핵심 문제해결 전략 및 실행 방법등을 README 파일에 명시

---

### 구현

#### 기술 스택
- Spring boot
- Kotlin
- H2 Database
- JPA
- QueryDsl
- Swagger
- Junit5

#### 시작 방법
- gradle load
- Spring project start

- swagger 페이지
  - http://localhost:8080/docs/swagger-ui/index.html

#### 구현 사항

- 데이터베이스
  - 사용자(간단) RS_USER
    - 공지사항  RS_NOTICE
      - 공지사항 파일   RS_NOTICE_FILE
      - 공지사항 조회   RS_NOTICE_VIEW

- REST API
  - 공지사항 등록 (여러 개의 파일 첨부 가능)
  - 공지사항 수정 (여러 개의 파일 첨부 및 삭제 가능)
  - 공지사항 삭제 
  - 공지사항 리스트 조회 
  - 공지사항 상세 조회 (조회 시 쿠키와 IP를 통해 중복체크 후 조회 수 카운트)


#### 문제해결 전략

- 시나리오 (구현 O)
  - 공지사항은 관리자(작성자)만 등록 및 수정 가능하다. 
  - 미리 등록되어 있는 관리자(사용자)가 공지사항을 등록한다. (여러 개의 파일 첨부 가능)
  - 등록되어 있는 공지사항을 수정한다. (여러 개의 파일 첨부 및 삭제 가능)
  - 등록되어 있는 공지사항 여러 개를 조회한다. (리스트)
  - 등록되어 있는 공지사항 여러 개 중 하나를 상세하게 조회한다. (상세)
  - 등록되어 있는 공지사항 중 하나를 삭제한다.
  - 
  - 로그인이 기능이 없다. 
    - 로그인 없이 공지사항 조회가 가능하다.
      - 사용자 ID 로는 조회 여부를 판단할 수 없다.
      - 쿠키(1시간)와 중복 IP(데이터베이스)를 이용한 조회수 중복 체크
      - 더나아가 redis 를 이용해 저장해 놓고 일정 시간 마다 조회수 refresh 전략
      


- 로그인 기능이 있다면 (구현 X)
  - 공지사항 ID, 사용자 ID 를 이용해 조회수 중복 체크 가능
  - 더나아가 redis 를 이용해 저장해 놓고 일정 시간 마다 조회수 refresh 전략
